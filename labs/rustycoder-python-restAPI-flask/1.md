# Rusty Coder : REST APIs in Python with Flask

This DevNet learning lab helps rusty coders create REST APIs and make REST API calls in their Python programs using a python package called Flask.

This DevNet learning lab helps the rusty coder quickly download modern software tools and use them to write a Hello World app. It is not a comprehensive tutorial about the tools, as there are many free resources out there today. Rather, it is a way to quickly get set up and get your hands dirty. We made some choices for you to minimize the research you need to do to get coding.

A rusty coder is someone who coded in their past (say, over 5, 10, 15, or 20 years ago) and wants to get started again using the tools that are available today in a fast easy way. A rusty coder probably used Unix or Windows in the past. A rusty coder has used a command line and coded with APIs in some older operating system and language, but perhaps has not coded with REST APIs. This learning lab is designed for developing on a Mac today.

## Objectives

The modern software world speaks to each other using REST APIs. Since you're writing code in Python, it's useful to 1) make your python code available through a REST API call and 2) make REST API calls from your python code.

The objective of this lab is to show the rusty coder how to:

* Install and use the Python **Flask** package.
* Create a REST API for your python program using Flask.
* Call a REST API from your python program using Flask.

## Prerequisites

This assumes you already installed and know how to use the Mac terminal, python3, git, GitHub, and Postman. If you need to do this, please take the DevNetlearning lab entitled **Hello World for the Rusty Coder : Get Setup**.

## Step 1. Install the Python **Flask** package.

One of the biggest reasons to use Python is because of the large number of Python packages (or libraries) available from the community.

* Install Flask `pip3 install Flask`

## Step 2. Create a REST API for your python program using Flask.

We will create a simple web server/service

* `cd /Users/username/Code` Go to your working directory.
* `git clone http://github.com/CiscoDevNet/devnet-rustycoder-samplecode` Download the sample code from Cisco DevNet.

You will see a file called `web-server.py`
```
# import flask library
from flask import Flask

# create an app instance
app = Flask(__name__)

# define url router, this function will respond when a user visits "/"
@app.route('/')
def hello_world():
    return 'Hello, World!'

# define url router, this function will respond when a user visits "/devnet"
@app.route('/devnet')
def hello_world():
    return 'Hello, DevNet!'

# main entry
if __name__ == '__main__':
    # run app when the script is executed
    # this will create a web server at port 8080, you can visit http://0.0.0.0:8080/ and http://0.0.0.0:8080/devnet
    app.run(host='0.0.0.0', port=8080, debug=True)
```

This example will create an simple web server running at port 8080

* Run this command `python3 web-server.py`
* Open `http://0.0.0.0:8080/ ` with your browser
* Open `http://0.0.0.0:8080/devnet ` with your browser

Congratulations! You just created your first Hello World REST API in python!

#### Next Step: Call a REST API from your python program using Flask.
